## 문제 링크
[코드트리 | 코딩테스트 준비를 위한 알고리즘 정석](https://www.codetree.ai/training-field/frequent-problems/problems/go-on-the-rides/description)

## 문제 풀이

1. 문제에 서술되어 있는대로 로직을 구성해서 풀이한다.
2. 학생들을 딕셔너리로 저장한다.
3. 학생의 번호가 키고 좋아하는 학생들을 set으로 저장한다.
4. 학생들을 순회하면서 board의 모든 원소를 탐색하며 문제에 조건대로 후보지를 선정한다.
5. 친구의 수(내림차순), 인접한 비어있는 칸(내림차순), 행 번호(오름차순), 열 번호(오름차순) 우선순위로 가장 우선순위가 높은 하나를 선택한다.
6. 선택한 칸에 학생을 배치한다.
7. 이를 끝까지 반복하고 모든 원소에서 점수를 계산해서 출력한다.

## 풀이 코드

```python
import sys
sys.stdin = open('simulation/230809_ct_g5_놀이기구 탑승/1.in', 'r')

input = sys.stdin.readline

from heapq import heappush

def solution():
    n = int(input())

    # 학생 딕셔너리
    students = {}
    for _ in range(n*n):
        n0, n1, n2, n3, n4= map(int, input().split())
        students[n0] = {n1, n2, n3, n4}   
    

    board = [[0] * n for _ in range(n)]

    drc = ((-1,0),(1,0),(0,-1),(0,1)) # 상하좌우
    for s in students:
        candi = []
        
        for r in range(n):
            for c in range(n):
                if board[r][c]:
                    continue
                likes = 0
                empties = 0
                for dr, dc in drc:
                    nr, nc = r + dr, c + dc

                    if 0 <= nr < n and 0 <= nc < n:
                        if board[nr][nc] in students[s]:
                            likes += 1
                        elif not board[nr][nc]:
                            empties += 1
                heappush(candi, (-likes, -empties, r, c))
        _, _, r, c = candi[0]
        board[r][c] = s

    score_board = [0,1,10,100,1000]
    score = 0
    
    for r in range(n):
        for c in range(n):
            likes = 0
            s = board[r][c]
            for dr, dc in drc:
                nr, nc = r + dr, c + dc

                if 0 <= nr < n and 0 <= nc < n and board[nr][nc] in students[s]:
                    likes += 1
            score += score_board[likes]

    return score

print(solution())
```