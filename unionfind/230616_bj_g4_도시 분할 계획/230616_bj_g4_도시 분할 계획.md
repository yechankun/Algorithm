## 문제 링크

[1647번: 도시 분할 계획](https://www.acmicpc.net/problem/1647)

## 문제 풀이

1. 크루스칼 알고리즘으로 푼다.(프림 알고리즘으로 풀어도 된다, 유니온파인드를 써보기 위해 크루스칼로 품)
2. union find를 구현한다.
3. union엔 find가 두 번 들어가야 하고 find는 재귀함수로 구현해야 함을 명심한다.
4. 두 마을을 나누는 것이라 크루스칼의 원리상 후순위의 유지비가 큰 길을 다른 마을로 나누어야 문제의 함정을 피할 수 있다.
5. 또한 두 마을만 있을 경우 항상 두 마을을 나누어서 유지비를 0으로 만들 수 있으므로 예외처리 해야 한다.

## 풀이 코드

```python
import sys
sys.stdin = open('unionfind/230616_bj_g4_도시 분할 계획/1.in', 'r')
input = sys.stdin.readline

def solution():
    N, M = map(int, input().split())

    # 그래프
    graph = []
    for _ in range(M):
        fr, to, p = map(int, input().split())
        graph.append((p, fr, to))
    graph.sort()

    groups = {fr: fr for fr in range(1, N+1)}
    # 유니온
    def union(a, b):
        a = find(a)
        b = find(b)
        if a < b:
            a, b = b, a
        groups[a] = b

    #파인드
    def find(x):
        if groups[x] == x:
            return x
        groups[x] = find(groups[x])
        return groups[x]

    # 크루스칼 알고리즘
    answer = 0 # answer는 비용
    cnt = 2
    if N == 2:
        return 0
    for p, fr, to in graph:
        if find(fr) != find(to):
            cnt +=1
            answer += p
            union(fr, to)
        if cnt == N:
            break
    return answer

print(solution())
```
